# 리눅스 SCP 사용하여 파일 가져오는 Shell 스크립트 작성



> 예) 일별로 쌓이는 SFA 의 이미지 파일을 DATALAKE LandingZone 으로 가져오기



### SFA 이미지 파일 가져오기







### 시간을 변수로 사용

https://wookiist.dev/109

# yy-mm-dd 형식으로 출력하기

터미널을 열어서 다음 명령을 입력해봅시다.

```bash
$ date +"%y-%m-%d"
```

출력은 이렇습니다.

```
21-03-22
```

만약 연도 데이터를 4자리로 출력하고 싶다면 `%y`를 `%Y`로 치환해주면 됩니다.

```bash
$ date +"%Y-%m-%d"
```

위 명령의 출력은 다음과 같습니다.

```
2021-03-22
```

또는 `%D` 하나의 포맷 스트링을 이용해 `m/d/y` 의 형태로 출력하는 방법도 있습니다.

```bash
$ date +"%D"
```

출력은 다음과 같습니다.

```
03/22/21
```

# 시각만 출력하기

이번 단락에서는 현재 시각을 출력하는 방법을 알아보겠습니다. 크게 **24시간제**와 **12시간제**로 표기할 수 있습니다.

## 24시간제

24시간제로 나타내려면 `%T` 포맷을 사용합니다.

```bash
$ date +"%T"
```

출력은 아래와 같습니다.

```
13:00:01
```

## 12시간제

12시간제로 나타내려면 `%r` 포맷을 사용합니다.

```bash
$ date +"%r"
```

출력은 아래와 같습니다.

```
01:00:05 PM
```

## 하나하나 분리해서 나타내기

시/분/초를 하나하나 분리해서 나타내는 포맷은 다음과 같습니다.

```bash
$ date +"%H-%M-%S"
```

출력은 아래와 같습니다.

```
01-00-11
```

# Shell 변수에 time/date 포맷을 저장하기

Shell 변수에 time/date 포맷을 저장하는 방법은 매우 간단합니다. 이전 단락에서 이용한 포맷을 `$`로 묶어 변수에 할당해주기만 하면 됩니다.

```bash
DATE=$(date +"%Y%m%d")
FILE="file-$DATE.md"
echo "Backing up data to /mnt/data/$FILE file, please wait..."
# 이하 생략
```



출처: https://wookiist.dev/109 [욱이의 IT 생존일지]



### SCP 사용하여 원격 서버의 데이터를 가져오기 

https://wlsvud84.tistory.com/11

What is scp?

___

ssh 원격 접속 프로토콜을 기반으로 한 SecureCopy(scp)의 약자로서 원격지에 있는 파일과 

디렉터리를 보내거나 가져올 때 사용하는 파일 전송 프로토콜입니다.

네트워크가 연결되어 있는 환경에서 ssh와 동일한 22번 포트와 identity file을 사용해서

파일을 송수신하기 때문에 보안적으로도 안정된 프로토콜이라고 할 수 있겠습니다.

**3. 여러 개의 파일을 포함하는 디렉터리 원격지에서 로컬로 가져올 때** 

***\*구문 : # scp [옵션] [원격지_id]@[원격지_ip]:[디렉터리 위치] [받을 경로]\****

**scp -r root@192.168.159.129:/tmp/testclient/testgogo /tmp**

 

[SFA 이미지 파일 가져오기 명령어]: 



​	

